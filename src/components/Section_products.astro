---
import Product from '../components/Product.astro'


//const data = await fetch('http://astros-worpress-headless.local/wp-json/wp/v2/streaming?acf_format=standard&_fields=id,title,type,acf');
const data = await fetch('http://astros-worpress-headless.local/wp-json/wp/v2/streaming?acf_format=standard&_fields=id,title,type,acf');
const datos = await data.json();
//console.log(datos[0].acf)

const dataProducts = datos;
//const dataProducts = datos;

//const categories = datos;
const dataPost = datos;

dataPost.forEach((service: any) => {
    //console.log(service.acf);
});
console.log(dataPost)



---
<!-- source: https://github.com/mfg888/Responsive-Tailwind-CSS-Grid/blob/main/index.html -->

<div class="text-center p-10">
    <h1 class="font-bold text-4xl mb-4">Astros Ecommecer</h1>
    <h1 class="text-3xl">with Wp Headless</h1>
</div>

<!-- âœ… Grid Section - Starts Here ðŸ‘‡ -->
<section id="Projects"
    class="w-fit mx-auto grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2 justify-items-center justify-center gap-y-20 gap-x-14 mt-10 mb-5">


<!-- Render array of products as a list in the HTML -->
    {
        dataPost.map(item => {
        return (
                <Product
                title={item.acf.title_name}
                cost={item.acf.price}
                image={item.acf.tumbnail}
                />
            );
        })
    }
    

<!--
    <Product
    title={dataProducts.id}
    cost={dataProducts.price}
    image={dataProducts.tumbnail}
    />

-->

</section>



<!-- credit -->
<div class="text-center py-10 px-10">
    <h2 class="font-bold text-2xl md:text-4xl mb-4">Thanks to <a href="https://www.instagram.com/josephstakeland/"
            class="underline font-black">Joseph Vazquez</a> create this code</h2>
</div>


